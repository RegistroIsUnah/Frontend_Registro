<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matrícula</title>
    <link rel="stylesheet" href="css/plantilla.css">
    <link rel="stylesheet" href="css/calificaciones.css">
</head>

<body>
    <header class="nav">
        <div class="nav-izq">
            <h1>Sistema de Registro</h1>
        </div>

        <div class="nav-der">

            <div class="chat-icon" onclick="toggleChatPanel()">
                <img src="https://cdn-icons-png.flaticon.com/512/134/134914.png" alt="Chat" width="24">

            </div>

            <div class="usuario">
                <small>Estudiante</small>
                <br>
                <small>Usuario@unah.hn</small>
            </div>
        </div>
    </header>

    <div id="chatPanel" class="chat-panel">
        <div class="chat-header">
            <h3>Chats</h3>
            <button onclick="toggleChatPanel()">&times;</button>
        </div>

        <div class="chat-tabs">
            <button class="tab-button active" onclick="openTab('individual')">Individuales</button>
            <button class="tab-button" onclick="openTab('group')">Grupales</button>
        </div>

        <div class="chat-buscar">
            <input type="text" id="chatSearch" placeholder="Buscar chats..." oninput="filtrarChat()">
        </div>

        <!-- Chats individuales -->
        <div id="individual" class="chat-tab-content active">
            <div class="chat-item">
                <img src="" alt="Usuario 1">
                <div class="chat-info">
                    <p>Juan Perez</p>
                    <small>Hola, ¿cómo estás?</small>
                </div>
                <span class="chat-time">10:30 AM</span>
            </div>
            <div class="chat-item">
                <img src="" alt="Usuario 2">
                <div class="chat-info">
                    <p>Maria Lopez</p>
                    <small>¿Vas a la clase hoy?</small>
                </div>
                <span class="chat-time">Ayer</span>
            </div>
        </div>

        <!-- Chats grupales -->
        <div id="group" class="chat-tab-content">
            <div class="chat-item">
                <img src="" alt="Grupo 1">
                <div class="chat-info">
                    <p>Grupo Matemáticas</p>
                    <small>Ana: Revisen el ejercicio 5</small>
                </div>
                <span class="chat-time">12:45 PM</span>
            </div>
            <div class="chat-item">
                <img src="" alt="Grupo 2">
                <div class="chat-info">
                    <p>Grupo Programacion</p>
                    <small>Maria: Hola</small>
                </div>
                <span class="chat-time">10:40 PM</span>
            </div>
        </div>

        <!-- Botones de acciones -->
        <div class="chat-actions">

            <button onclick="listaContactos()">Contactos</button>

            <button>Crear Grupo</button>
            <button onclick="solicitudContacto()">Enviar Solicitud</button>

        </div>
    </div>

    <!-- Contenido principal -->
    <main class="contenedor">
        <!-- Menú lateral -->
        <section class="main-contenedor">
            <div>
                <h3 class="panel-title">Panel Estudiantil</h3>
                <nav>
                    <a href="panel.html"><small class="menu-title">MENU PRINCIPAL</small></a>
                    <ul>
                        <a href="perfil.html"><li>Perfil</li></a>
                        <a href="calificaciones.html"><li>Calificaciones</li></a>
                        <a href="matricula.html"><li>Matricula</li></a>
                        <a href="solicitudes.html"><li>Solicitudes</li></a>
                    </ul>
                </nav>
            </div>
        </section>

        <section class="contenedor2">
            <div class="contenido">
                <h2>Calificaciones</h2>

                <!-- Tabla de Clases -->
                <table class="tabla-clases">
                    <thead>
                        <tr>
                            <th>Clase</th>
                            <th>Docente</th>
                            <th>Acción</th>
                            <th>Nota</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Clase 1 -->
                        <tr class="clase-item" data-clase-id="1">
                            <td>Matemáticas</td>
                            <td>Juan Perez</td>
                            <td><button class="btn-evaluar" onclick="evaluacionModal('1')">Evaluar Docente</button>
                            </td>
                            <td class="nota" style="display: none;">85</td>
                        </tr>

                        <!-- Clase 2 -->
                        <tr class="clase-item" data-clase-id="2">
                            <td>Programación</td>
                            <td>Maria Lopez</td>
                            <td><button class="btn-evaluar" onclick="evaluacionModal('2')">Evaluar Docente</button>
                            </td>
                            <td class="nota" style="display: none;">90</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Modal de Evaluación -->
        <div id="evaluacionModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <h3>Evaluación del Docente</h3>
                <form id="evaluacionForm" onsubmit="evaluacion(event)">
                    <div class="pregunta">
                        <p>1. ¿El docente explica claramente los temas?</p>
                        <select class="combobox" required>
                            <option value="">Seleccione...</option>
                            <option value="mal">Mal</option>
                            <option value="bueno">Bueno</option>
                            <option value="excelente">Excelente</option>
                        </select>
                    </div>

                    <div class="pregunta">
                        <p>2. ¿El docente está disponible para consultas?</p>
                        <select class="combobox" required>
                            <option value="">Seleccione...</option>
                            <option value="mal">Mal</option>
                            <option value="bueno">Bueno</option>
                            <option value="excelente">Excelente</option>
                        </select>
                    </div>

                    <button type="submit" class="btn-enviar">Enviar Evaluación</button>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Contacto</h4>
                <p>Dirección: Bulevar Suapa, Tegucigalpa, M.D.C, Honduras</p>
                <p>Teléfono: 2216-6100</p>
                <p>Email: info@unah.edu.hn</p>
            </div>
            <div class="footer-section">
                <h4>Redes Sociales</h4>
                <ul>
                    <li><a href="#" target="_blank">Facebook</a></li>
                    <li><a href="#" target="_blank">Twitter</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Enlaces Rápidos</h4>
                <ul>
                    <li><a href="#">Admisiones</a></li>
                    <li><a href="#">Biblioteca</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Universidad Nacional Autonoma de Honduras. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        function toggleChatPanel() {
            const chatPanel = document.getElementById('chatPanel');
            chatPanel.classList.toggle('active');
        }

        function openTab(tabName) {
            // Ocultar todas las pestañas
            document.querySelectorAll('.chat-tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // Mostrar la pestaña seleccionada
            document.getElementById(tabName).classList.add('active');

            // Actualizar botones de pestañas
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            document.querySelector(`[onclick="openTab('${tabName}')"]`).classList.add('active');
        }

        function listaContactos() {
            alert('Aquí se abriría la lista de contactos.');
        }

        function solicitudContacto() {
            alert('Aquí se abriría el formulario para enviar solicitudes.');
        }

        function filtrarChat() {
            const searchText = document.getElementById('chatSearch').value.toLowerCase();
            const chatItems = document.querySelectorAll('.chat-item');

            chatItems.forEach(chat => {
                const chatName = chat.querySelector('.chat-info p').textContent.toLowerCase();
                if (chatName.includes(searchText)) {
                    chat.style.display = 'flex'; // Mostrar el chat
                } else {
                    chat.style.display = 'none'; // Ocultar el chat
                }
            });
        }


        let currentClaseId = null;

        function evaluacionModal(claseId) {
            currentClaseId = claseId;
            document.getElementById('evaluacionModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('evaluacionModal').style.display = 'none';
            document.getElementById('evaluacionForm').reset();
        }

        function evaluacion(event) {
            event.preventDefault();

            // Validar todas las preguntas
            const selects = event.target.querySelectorAll('select');
            let allAnswered = true;

            selects.forEach(select => {
                if (select.value === "") {
                    allAnswered = false;
                }
            });

            if (!allAnswered) {
                alert('Por favor complete todas las preguntas');
                return;
            }

            // Ocultar botón y mostrar nota
            const fila = document.querySelector(`tr[data-clase-id="${currentClaseId}"]`);
            fila.querySelector('.btn-evaluar').style.display = 'none';
            fila.querySelector('.nota').style.display = 'table-cell';

            closeModal();
        }

    </script>


</body>

</html>